<mat-card class="container">
  <mat-card-header>
    <mat-card-title>{{ label() }}</mat-card-title>
    <mat-card-subtitle>Let's play some chess</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    @if (isSignIn()) {
      <app-sign-in-form class="form-container" #form />
      <p class="message">Don't you have an account yet?
        <button matButton (click)="toggleMode()">Register</button>
      </p>
    } @else {
      <app-sign-up-form class="form-container" #form/>
      <p class="message">Already have an account?
        <button matButton (click)="toggleMode()">Sign In</button>
      </p>
    }

    @if (error(); as error) {
      <mat-error>{{ error }}</mat-error>
    }

  </mat-card-content>
  <mat-card-actions>
    @if (isLoading()) {
      <app-spinner/>
    } @else {
      <button
        class="submit-button"
        mat-raised-button
        color="primary"
        [disabled]="isSubmitDisabled()"
        (click)="onSubmit()"
      >
        {{ label() }}
      </button>
    }
  </mat-card-actions>
</mat-card>
